var t=Object.defineProperty,e=Object.defineProperties,r=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,a=(e,r,s)=>r in e?t(e,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[r]=s;import{S as o,i as c,s as i,j as $,k as f,m,n as d,o as p,f as u,v as h,r as g,w as v,d as b,T as w,e as k,c as x,a as j,b as y,E as D,t as E,g as I,F as V,B as M,u as O,Q as H,h as T}from"../../chunks/vendor-8a091a4f.js";import{u as P}from"../../chunks/utils-eababed0.js";import{T as L}from"../../chunks/Timestamp-07746e59.js";import{M as S,T as Y}from"../../chunks/MapLink-39d47044.js";import{E as q}from"../../chunks/EzeMedia-734d0b37.js";import{p as B}from"../../chunks/stores-153c9123.js";import{T as U}from"../../chunks/Title-a01263fc.js";import{H as _}from"../../chunks/Head-cc63206a.js";import{P as z}from"../../chunks/Profiles-55df9d06.js";import{S as A}from"../../chunks/Sidebar-030e8287.js";import"../../chunks/_stores-aaa06f8d.js";function F(t,e,r){const s=t.slice();return s[6]=e[r],s}function Q(t,e,r){const s=t.slice();return s[9]=e[r],s}function C(t){var e,r;let s,n,l;return n=new q({props:{file:null==(r=null==(e=t[0])?void 0:e.cover)?void 0:r[0],format:"820x0x95",root:"/media/events"}}),{c(){s=k("div"),$(n.$$.fragment),this.h()},l(t){s=x(t,"DIV",{class:!0,style:!0});var e=j(s);m(n.$$.fragment,e),e.forEach(b),this.h()},h(){y(s,"class","bl bt"),D(s,"margin-left","calc( var(--stroke-width) * -1)"),D(s,"margin-top","calc( var(--stroke-width) * -1)")},m(t,e){u(t,s,e),p(n,s,null),l=!0},p(t,e){var r,s;const l={};1&e&&(l.file=null==(s=null==(r=t[0])?void 0:r.cover)?void 0:s[0]),n.$set(l)},i(t){l||(h(n.$$.fragment,t),l=!0)},o(t){g(n.$$.fragment,t),l=!1},d(t){t&&b(s),v(n)}}}function G(t){let e,r=t[0].title+"";return{c(){e=E(r)},l(t){e=I(t,r)},m(t,r){u(t,e,r)},p(t,s){1&s&&r!==(r=t[0].title+"")&&T(e,r)},d(t){t&&b(e)}}}function J(t){let e,r,s;return r=new L({props:{date:t[0].end,format:"DD-MM HH:mm"}}),{c(){e=E("until "),$(r.$$.fragment)},l(t){e=I(t,"until "),m(r.$$.fragment,t)},m(t,n){u(t,e,n),p(r,t,n),s=!0},p(t,e){const s={};1&e&&(s.date=t[0].end),r.$set(s)},i(t){s||(h(r.$$.fragment,t),s=!0)},o(t){g(r.$$.fragment,t),s=!1},d(t){t&&b(e),v(r,t)}}}function K(t){let e,r=t[9].id+"";return{c(){e=E(r)},l(t){e=I(t,r)},m(t,r){u(t,e,r)},p(t,s){1&s&&r!==(r=t[9].id+"")&&T(e,r)},d(t){t&&b(e)}}}function N(t){let e,r;return e=new Y({props:{href:"/events?q="+t[9].id,$$slots:{default:[K]},$$scope:{ctx:t}}}),{c(){$(e.$$.fragment)},l(t){m(e.$$.fragment,t)},m(t,s){p(e,t,s),r=!0},p(t,r){const s={};1&r&&(s.href="/events?q="+t[9].id),4097&r&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){r||(h(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){v(e,t)}}}function R(t){var e,r,s,n;let l,a,o=((null==(n=null==(s=null==(r=null==(e=t[0])?void 0:e.places)?void 0:r[0])?void 0:s.item)?void 0:n.title)||"unknown")+"";return{c(){l=E("at "),a=E(o)},l(t){l=I(t,"at "),a=I(t,o)},m(t,e){u(t,l,e),u(t,a,e)},p(t,e){var r,s,n,l;1&e&&o!==(o=((null==(l=null==(n=null==(s=null==(r=t[0])?void 0:r.places)?void 0:s[0])?void 0:n.item)?void 0:l.title)||"unknown")+"")&&T(a,o)},d(t){t&&b(l),t&&b(a)}}}function W(t){var e,r,s;let n,l,a,o,c,i,w,D,E,I,T,P,Y,q;l=new U({props:{class:"w100pc",$$slots:{default:[G]},$$scope:{ctx:t}}}),w=new L({props:{class:"f2",date:t[0].start,format:"dddd HH:mm, DD/MM/YYYY"}});let B=t[0].end&&J(t),_=(null==(e=t[0])?void 0:e.tags)||[],z=[];for(let $=0;$<_.length;$+=1)z[$]=N(Q(t,_,$));const A=t=>g(z[t],1,1,(()=>{z[t]=null}));return Y=new S({props:{class:"bb2-solid pb0-2",place:null==(s=null==(r=t[0])?void 0:r.places)?void 0:s[0],$$slots:{default:[R]},$$scope:{ctx:t}}}),{c(){n=k("div"),$(l.$$.fragment),a=f(),o=k("div"),c=k("div"),i=k("div"),$(w.$$.fragment),D=f(),B&&B.c(),E=f(),I=k("div");for(let t=0;t<z.length;t+=1)z[t].c();T=f(),P=k("div"),$(Y.$$.fragment),this.h()},l(t){n=x(t,"DIV",{slot:!0,class:!0});var e=j(n);m(l.$$.fragment,e),a=d(e),o=x(e,"DIV",{class:!0});var r=j(o);c=x(r,"DIV",{class:!0});var s=j(c);i=x(s,"DIV",{});var $=j(i);m(w.$$.fragment,$),D=d($),B&&B.l($),$.forEach(b),E=d(s),I=x(s,"DIV",{});var f=j(I);for(let n=0;n<z.length;n+=1)z[n].l(f);f.forEach(b),T=d(s),P=x(s,"DIV",{});var p=j(P);m(Y.$$.fragment,p),p.forEach(b),s.forEach(b),r.forEach(b),e.forEach(b),this.h()},h(){y(c,"class","flex column cmb1"),y(o,"class","plr1 pb1 flex column-flex-start-space-between h100pc grow"),y(n,"slot","sidebar"),y(n,"class","minw22em flex column h100pc")},m(t,e){u(t,n,e),p(l,n,null),V(n,a),V(n,o),V(o,c),V(c,i),p(w,i,null),V(i,D),B&&B.m(i,null),V(c,E),V(c,I);for(let r=0;r<z.length;r+=1)z[r].m(I,null);V(c,T),V(c,P),p(Y,P,null),q=!0},p(t,e){var r,s,n;const a={};4097&e&&(a.$$scope={dirty:e,ctx:t}),l.$set(a);const o={};if(1&e&&(o.date=t[0].start),w.$set(o),t[0].end?B?(B.p(t,e),1&e&&h(B,1)):(B=J(t),B.c(),h(B,1),B.m(i,null)):B&&(M(),g(B,1,1,(()=>{B=null})),O()),1&e){let s;for(_=(null==(r=t[0])?void 0:r.tags)||[],s=0;s<_.length;s+=1){const r=Q(t,_,s);z[s]?(z[s].p(r,e),h(z[s],1)):(z[s]=N(r),z[s].c(),h(z[s],1),z[s].m(I,null))}for(M(),s=_.length;s<z.length;s+=1)A(s);O()}const c={};1&e&&(c.place=null==(n=null==(s=t[0])?void 0:s.places)?void 0:n[0]),4097&e&&(c.$$scope={dirty:e,ctx:t}),Y.$set(c)},i(t){if(!q){h(l.$$.fragment,t),h(w.$$.fragment,t),h(B);for(let t=0;t<_.length;t+=1)h(z[t]);h(Y.$$.fragment,t),q=!0}},o(t){g(l.$$.fragment,t),g(w.$$.fragment,t),g(B),z=z.filter(Boolean);for(let e=0;e<z.length;e+=1)g(z[e]);g(Y.$$.fragment,t),q=!1},d(t){t&&b(n),v(l),v(w),B&&B.d(),H(z,t),v(Y)}}}function X(t){let e,r=t[0].description+"";return{c(){e=k("div"),this.h()},l(t){e=x(t,"DIV",{class:!0}),j(e).forEach(b),this.h()},h(){y(e,"class","pb1")},m(t,s){u(t,e,s),e.innerHTML=r},p(t,s){1&s&&r!==(r=t[0].description+"")&&(e.innerHTML=r)},d(t){t&&b(e)}}}function Z(t){let e;return{c(){e=E("Links")},l(t){e=I(t,"Links")},m(t,r){u(t,e,r)},d(t){t&&b(e)}}}function tt(t){let e,r,s,n=t[6].item.title+"";return{c(){e=k("a"),r=E(n),this.h()},l(t){e=x(t,"A",{target:!0,class:!0,href:!0});var s=j(e);r=I(s,n),s.forEach(b),this.h()},h(){y(e,"target","_blank"),y(e,"class","button block text-center mb1"),y(e,"href",s=P.safeUrl(t[6].item.url))},m(t,s){u(t,e,s),V(e,r)},p(t,l){4&l&&n!==(n=t[6].item.title+"")&&T(r,n),4&l&&s!==(s=P.safeUrl(t[6].item.url))&&y(e,"href",s)},d(t){t&&b(e)}}}function et(t){let e,r,s,n,l,a,o;r=new U({props:{class:"",$$slots:{default:[Z]},$$scope:{ctx:t}}});let c=t[2]||[],i=[];for(let $=0;$<c.length;$+=1)i[$]=tt(F(t,c,$));return a=new z({props:{profiles:t[1],columns:2,stretch:"width"}}),{c(){e=k("div"),$(r.$$.fragment),s=f(),n=k("div");for(let t=0;t<i.length;t+=1)i[t].c();l=f(),$(a.$$.fragment),this.h()},l(t){e=x(t,"DIV",{slot:!0,class:!0});var o=j(e);m(r.$$.fragment,o),s=d(o),n=x(o,"DIV",{});var c=j(n);for(let e=0;e<i.length;e+=1)i[e].l(c);c.forEach(b),l=d(o),m(a.$$.fragment,o),o.forEach(b),this.h()},h(){y(e,"slot","sidebar"),y(e,"class","cmb1")},m(t,c){u(t,e,c),p(r,e,null),V(e,s),V(e,n);for(let e=0;e<i.length;e+=1)i[e].m(n,null);V(e,l),p(a,e,null),o=!0},p(t,e){const s={};if(4096&e&&(s.$$scope={dirty:e,ctx:t}),r.$set(s),4&e){let r;for(c=t[2]||[],r=0;r<c.length;r+=1){const s=F(t,c,r);i[r]?i[r].p(s,e):(i[r]=tt(s),i[r].c(),i[r].m(n,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=c.length}const l={};2&e&&(l.profiles=t[1]),a.$set(l)},i(t){o||(h(r.$$.fragment,t),h(a.$$.fragment,t),o=!0)},o(t){g(r.$$.fragment,t),g(a.$$.fragment,t),o=!1},d(t){t&&b(e),v(r),H(i,t),v(a)}}}function rt(t){var e;let r,s,n,l,a,o;return r=new _({props:{title:t[0].title,description:t[0].meta,image:null==(e=t[0].cover)?void 0:e[0]}}),n=new A({props:{class:"bl br bb",spacer:"0em",$$slots:{sidebar:[W],default:[C]},$$scope:{ctx:t}}}),a=new A({props:{class:"mt2",flip:!0,$$slots:{sidebar:[et],default:[X]},$$scope:{ctx:t}}}),{c(){$(r.$$.fragment),s=f(),$(n.$$.fragment),l=f(),$(a.$$.fragment)},l(t){m(r.$$.fragment,t),s=d(t),m(n.$$.fragment,t),l=d(t),m(a.$$.fragment,t)},m(t,e){p(r,t,e),u(t,s,e),p(n,t,e),u(t,l,e),p(a,t,e),o=!0},p(t,[e]){var s;const l={};1&e&&(l.title=t[0].title),1&e&&(l.description=t[0].meta),1&e&&(l.image=null==(s=t[0].cover)?void 0:s[0]),r.$set(l);const o={};4097&e&&(o.$$scope={dirty:e,ctx:t}),n.$set(o);const c={};4103&e&&(c.$$scope={dirty:e,ctx:t}),a.$set(c)},i(t){o||(h(r.$$.fragment,t),h(n.$$.fragment,t),h(a.$$.fragment,t),o=!0)},o(t){g(r.$$.fragment,t),g(n.$$.fragment,t),g(a.$$.fragment,t),o=!1},d(t){v(r,t),t&&b(s),v(n,t),t&&b(l),v(a,t)}}}const st=async({fetch:t,page:e})=>({props:{events:await(await t("/events.json")).json()}});function nt(t,o,c){let i,$,f,m,d;w(t,B,(t=>c(5,d=t)));let{events:p}=o;return t.$$set=t=>{"events"in t&&c(3,p=t.events)},t.$$.update=()=>{32&t.$$.dirty&&c(4,$=d.params.id),24&t.$$.dirty&&c(0,i=p.find((t=>t.id==$))),1&t.$$.dirty&&c(1,f=(i.associated||[]).map((t=>{return o=((t,e)=>{for(var r in e||(e={}))n.call(e,r)&&a(t,r,e[r]);if(s)for(var r of s(e))l.call(e,r)&&a(t,r,e[r]);return t})({},t.item),c={id:t.id,model:t.model},e(o,r(c));var o,c}))),1&t.$$.dirty&&c(2,m=i.links||[])},[i,f,m,p,$,d]}export default class extends o{constructor(t){super(),c(this,t,nt,rt,i,{events:3})}}export{st as load};
