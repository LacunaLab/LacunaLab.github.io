import{S as s,i as t,s as e,e as r,t as l,k as n,c as a,a as o,g as i,n as c,d as f,b as u,f as d,F as m,h as p,j as $,m as v,E as h,Y as g,o as y,v as b,r as w,w as E,Q as x,T as j,z as k}from"../../chunks/vendor-397bb9c3.js";import{T as I,E as D}from"../../chunks/Events-5d6cd2d5.js";import{p as V}from"../../chunks/stores-c81ade89.js";import{T}from"../../chunks/Title-284aae4c.js";import{H}from"../../chunks/Head-90633793.js";import{u as L}from"../../chunks/utils-852b04f8.js";import{g as M}from"../../chunks/navigation-20968cc5.js";import{E as z}from"../../chunks/EzeMedia-65776d11.js";import"../../chunks/Timestamp-31448a06.js";import"../../chunks/singletons-bb9012b7.js";import"../../chunks/_stores-92e85fc2.js";function A(s,t,e){const r=s.slice();return r[8]=t[e],r}function U(s){var t;let e,r=(null==(t=s[0])?void 0:t.name)+"";return{c(){e=l(r)},l(s){e=i(s,r)},m(s,t){d(s,e,t)},p(s,t){var l;1&t&&r!==(r=(null==(l=s[0])?void 0:l.name)+"")&&p(e,r)},d(s){s&&f(e)}}}function _(s){var t;let e,r=(null==(t=s[0])?void 0:t.type)+"";return{c(){e=l(r)},l(s){e=i(s,r)},m(s,t){d(s,e,t)},p(s,t){var l;1&t&&r!==(r=(null==(l=s[0])?void 0:l.type)+"")&&p(e,r)},d(s){s&&f(e)}}}function q(s){var t,e;let $,v,h,g,y=(null==(e=null==(t=s[8])?void 0:t.item)?void 0:e.title)+"";return{c(){$=r("a"),v=l(y),h=n(),this.h()},l(s){$=a(s,"A",{class:!0,target:!0,href:!0});var t=o($);v=i(t,y),h=c(t),t.forEach(f),this.h()},h(){var t,e;u($,"class","button wrap flex maxw100pc row-center-center whitespace-normal"),u($,"target","_blank"),u($,"href",g=L.safeUrl(null==(e=null==(t=s[8])?void 0:t.item)?void 0:e.url))},m(s,t){d(s,$,t),m($,v),m($,h)},p(s,t){var e,r,l,n;1&t&&y!==(y=(null==(r=null==(e=s[8])?void 0:e.item)?void 0:r.title)+"")&&p(v,y),1&t&&g!==(g=L.safeUrl(null==(n=null==(l=s[8])?void 0:l.item)?void 0:n.url))&&u($,"href",g)},d(s){s&&f($)}}}function C(s){var t,e,j,k,V,L,M;let C,F,Q,R,S,Y,B,G,J,K,N,O,P,W,X,Z,ss,ts,es,rs,ls,ns,as,os,is,cs,fs=((null==(t=s[0])?void 0:t.profession)||"")+"",us=((null==(e=s[0])?void 0:e.biography)||"")+"";C=new H({props:{title:`${(null==(j=s[0])?void 0:j.name)||""}`,description:(null==(k=s[0])?void 0:k.biography)||""}}),S=new T({props:{class:"",$$slots:{default:[U]},$$scope:{ctx:s}}}),G=new z({props:{file:null==(L=null==(V=s[0])?void 0:V.picture)?void 0:L[0],root:"/media/profiles",format:"400x0x90"}}),O=new I({props:{href:s[2],$$slots:{default:[_]},$$scope:{ctx:s}}});let ds=(null==(M=s[0])?void 0:M.links)||[],ms=[];for(let r=0;r<ds.length;r+=1)ms[r]=q(A(s,ds,r));return is=new D({props:{events:s[1],columns:!1,format:"600x0x90",stretch:"width"}}),{c(){$(C.$$.fragment),F=n(),Q=r("div"),R=r("div"),$(S.$$.fragment),Y=n(),B=r("div"),$(G.$$.fragment),K=n(),N=r("div"),$(O.$$.fragment),P=n(),W=r("div"),X=l(fs),Z=n(),ss=r("div");for(let s=0;s<ms.length;s+=1)ms[s].c();ts=n(),es=r("div"),rs=n(),ls=r("article"),ns=r("div"),as=n(),os=r("div"),$(is.$$.fragment),this.h()},l(s){v(C.$$.fragment,s),F=c(s),Q=a(s,"DIV",{class:!0});var t=o(Q);R=a(t,"DIV",{class:!0});var e=o(R);v(S.$$.fragment,e),Y=c(e),B=a(e,"DIV",{class:!0});var r=o(B);v(G.$$.fragment,r),r.forEach(f),K=c(e),N=a(e,"DIV",{});var l=o(N);v(O.$$.fragment,l),l.forEach(f),P=c(e),W=a(e,"DIV",{class:!0});var n=o(W);X=i(n,fs),n.forEach(f),Z=c(e),ss=a(e,"DIV",{class:!0});var u=o(ss);for(let a=0;a<ms.length;a+=1)ms[a].l(u);u.forEach(f),e.forEach(f),ts=c(t),es=a(t,"DIV",{class:!0}),o(es).forEach(f),rs=c(t),ls=a(t,"ARTICLE",{class:!0});var d=o(ls);ns=a(d,"DIV",{style:!0,class:!0}),o(ns).forEach(f),as=c(d),os=a(d,"DIV",{});var m=o(os);v(is.$$.fragment,m),m.forEach(f),d.forEach(f),t.forEach(f),this.h()},h(){var t,e;u(B,"class",J="border profile-"+(null==(t=s[0])?void 0:t.type)+" profile-"+(null==(e=s[0])?void 0:e["picture-style"])),u(W,"class","mt1"),u(ss,"class","mt1 cmb1"),u(R,"class","basis10pc grow flex column-stretch-flex-start"),u(es,"class","w1em h1em"),h(ns,"column-count","2"),u(ns,"class","mb2 mt1"),g(os,"none",s[1].length<=0),u(ls,"class","basis60pc flex grow column ptb1 mt0 "),u(Q,"class","flex row wrap")},m(s,t){y(C,s,t),d(s,F,t),d(s,Q,t),m(Q,R),y(S,R,null),m(R,Y),m(R,B),y(G,B,null),m(R,K),m(R,N),y(O,N,null),m(R,P),m(R,W),m(W,X),m(R,Z),m(R,ss);for(let e=0;e<ms.length;e+=1)ms[e].m(ss,null);m(Q,ts),m(Q,es),m(Q,rs),m(Q,ls),m(ls,ns),ns.innerHTML=us,m(ls,as),m(ls,os),y(is,os,null),cs=!0},p(s,[t]){var e,r,l,n,a,o,i,c,f;const d={};1&t&&(d.title=`${(null==(e=s[0])?void 0:e.name)||""}`),1&t&&(d.description=(null==(r=s[0])?void 0:r.biography)||""),C.$set(d);const m={};2049&t&&(m.$$scope={dirty:t,ctx:s}),S.$set(m);const $={};1&t&&($.file=null==(n=null==(l=s[0])?void 0:l.picture)?void 0:n[0]),G.$set($),(!cs||1&t&&J!==(J="border profile-"+(null==(a=s[0])?void 0:a.type)+" profile-"+(null==(o=s[0])?void 0:o["picture-style"])))&&u(B,"class",J);const v={};if(4&t&&(v.href=s[2]),2049&t&&(v.$$scope={dirty:t,ctx:s}),O.$set(v),(!cs||1&t)&&fs!==(fs=((null==(i=s[0])?void 0:i.profession)||"")+"")&&p(X,fs),1&t){let e;for(ds=(null==(c=s[0])?void 0:c.links)||[],e=0;e<ds.length;e+=1){const r=A(s,ds,e);ms[e]?ms[e].p(r,t):(ms[e]=q(r),ms[e].c(),ms[e].m(ss,null))}for(;e<ms.length;e+=1)ms[e].d(1);ms.length=ds.length}(!cs||1&t)&&us!==(us=((null==(f=s[0])?void 0:f.biography)||"")+"")&&(ns.innerHTML=us);const h={};2&t&&(h.events=s[1]),is.$set(h),2&t&&g(os,"none",s[1].length<=0)},i(s){cs||(b(C.$$.fragment,s),b(S.$$.fragment,s),b(G.$$.fragment,s),b(O.$$.fragment,s),b(is.$$.fragment,s),cs=!0)},o(s){w(C.$$.fragment,s),w(S.$$.fragment,s),w(G.$$.fragment,s),w(O.$$.fragment,s),w(is.$$.fragment,s),cs=!1},d(s){E(C,s),s&&f(F),s&&f(Q),E(S),E(G),E(O),x(ms,s),E(is)}}}const F=async({fetch:s,page:t})=>({props:{profiles:await(await s("/profiles.json")).json(),events:(await(await s("/events.json")).json()).sort(((s,t)=>t.start-s.start))}});function Q(s,t,e){let r,l,n,a,o,i;j(s,V,(s=>e(6,i=s)));let{profiles:c}=t,{events:f}=t;return k((async s=>{"events"==a&&M(`/activities/${n}`)})),s.$$set=s=>{"profiles"in s&&e(3,c=s.profiles),"events"in s&&e(4,f=s.events)},s.$$.update=()=>{64&s.$$.dirty&&e(5,n=i.params.id),40&s.$$.dirty&&e(0,r=c.find((s=>s.id==n))),17&s.$$.dirty&&e(1,l=(f||[]).filter((s=>{if(!r)return;let t=!1;return(s.associated||[]).forEach((s=>{t=s.id==r.id||t})),t}))),64&s.$$.dirty&&(a=i.params.type),1&s.$$.dirty&&e(2,o="member"==(null==r?void 0:r.type)?`/members?q=${null==r?void 0:r.type}`:"/friends")},[r,l,o,c,f,n,i]}export default class extends s{constructor(s){super(),t(this,s,Q,C,e,{profiles:3,events:4})}}export{F as load};
