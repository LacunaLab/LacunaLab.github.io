import{S as t,i as e,s,e as l,t as r,k as a,c as n,a as o,g as i,n as c,d as f,b as u,f as m,F as d,h as p,j as v,m as $,E as h,o as g,v as b,r as y,w,Q as j,T as k,z as E}from"../../chunks/vendor-8a091a4f.js";import{E as x}from"../../chunks/Events-887b61b4.js";import{p as I}from"../../chunks/stores-153c9123.js";import{T}from"../../chunks/Title-a01263fc.js";import{H as D}from"../../chunks/Head-cc63206a.js";import{u as V}from"../../chunks/utils-eababed0.js";import{g as H}from"../../chunks/navigation-20968cc5.js";import{E as L}from"../../chunks/EzeMedia-734d0b37.js";import{T as M}from"../../chunks/MapLink-39d47044.js";import"../../chunks/Timestamp-07746e59.js";import"../../chunks/singletons-bb9012b7.js";import"../../chunks/_stores-aaa06f8d.js";function z(t,e,s){const l=t.slice();return l[8]=e[s],l}function A(t){var e;let s,l=(null==(e=t[0])?void 0:e.name)+"";return{c(){s=r(l)},l(t){s=i(t,l)},m(t,e){m(t,s,e)},p(t,e){var r;1&e&&l!==(l=(null==(r=t[0])?void 0:r.name)+"")&&p(s,l)},d(t){t&&f(s)}}}function U(t){var e;let s,l=(null==(e=t[0])?void 0:e.type)+"";return{c(){s=r(l)},l(t){s=i(t,l)},m(t,e){m(t,s,e)},p(t,e){var r;1&e&&l!==(l=(null==(r=t[0])?void 0:r.type)+"")&&p(s,l)},d(t){t&&f(s)}}}function _(t){var e,s;let v,$,h,g,b=(null==(s=null==(e=t[8])?void 0:e.item)?void 0:s.title)+"";return{c(){v=l("a"),$=r(b),h=a(),this.h()},l(t){v=n(t,"A",{class:!0,target:!0,href:!0});var e=o(v);$=i(e,b),h=c(e),e.forEach(f),this.h()},h(){var e,s;u(v,"class","button wrap flex maxw100pc row-center-center whitespace-normal"),u(v,"target","_blank"),u(v,"href",g=V.safeUrl(null==(s=null==(e=t[8])?void 0:e.item)?void 0:s.url))},m(t,e){m(t,v,e),d(v,$),d(v,h)},p(t,e){var s,l,r,a;1&e&&b!==(b=(null==(l=null==(s=t[8])?void 0:s.item)?void 0:l.title)+"")&&p($,b),1&e&&g!==(g=V.safeUrl(null==(a=null==(r=t[8])?void 0:r.item)?void 0:a.url))&&u(v,"href",g)},d(t){t&&f(v)}}}function q(t){var e,s,r,i,p,k,E,I;let V,H,q,C,F,Q,R,S,B,G,J,K,N,O,P,W,X,Y,Z,tt,et,st,lt=((null==(e=t[0])?void 0:e.biography)||"")+"";V=new D({props:{title:null==(s=t[0])?void 0:s.title,description:null==(r=t[0])?void 0:r.meta,image:null==(p=null==(i=t[0])?void 0:i.cover)?void 0:p[0]}}),F=new T({props:{class:"",$$slots:{default:[A]},$$scope:{ctx:t}}}),S=new L({props:{file:null==(E=null==(k=t[0])?void 0:k.picture)?void 0:E[0],root:"/media/profiles"}}),J=new M({props:{href:t[2],$$slots:{default:[U]},$$scope:{ctx:t}}});let rt=(null==(I=t[0])?void 0:I.links)||[],at=[];for(let l=0;l<rt.length;l+=1)at[l]=_(z(t,rt,l));return et=new x({props:{events:t[1],columns:!1}}),{c(){v(V.$$.fragment),H=a(),q=l("div"),C=l("div"),v(F.$$.fragment),Q=a(),R=l("div"),v(S.$$.fragment),G=a(),v(J.$$.fragment),K=a(),N=l("div");for(let t=0;t<at.length;t+=1)at[t].c();O=a(),P=l("div"),W=a(),X=l("article"),Y=l("div"),Z=a(),tt=l("div"),v(et.$$.fragment),this.h()},l(t){$(V.$$.fragment,t),H=c(t),q=n(t,"DIV",{class:!0});var e=o(q);C=n(e,"DIV",{class:!0});var s=o(C);$(F.$$.fragment,s),Q=c(s),R=n(s,"DIV",{class:!0});var l=o(R);$(S.$$.fragment,l),l.forEach(f),G=c(s),$(J.$$.fragment,s),K=c(s),N=n(s,"DIV",{class:!0});var r=o(N);for(let n=0;n<at.length;n+=1)at[n].l(r);r.forEach(f),s.forEach(f),O=c(e),P=n(e,"DIV",{class:!0}),o(P).forEach(f),W=c(e),X=n(e,"ARTICLE",{class:!0});var a=o(X);Y=n(a,"DIV",{style:!0,class:!0}),o(Y).forEach(f),Z=c(a),tt=n(a,"DIV",{});var i=o(tt);$(et.$$.fragment,i),i.forEach(f),a.forEach(f),e.forEach(f),this.h()},h(){var e,s;u(R,"class",B="border profile-"+(null==(e=t[0])?void 0:e.type)+" profile-"+(null==(s=t[0])?void 0:s["picture-style"])),u(N,"class","mt1 cmb1"),u(C,"class","basis10pc grow flex column-stretch-flex-start"),u(P,"class","w1em h1em"),h(Y,"column-count","2"),u(Y,"class","mb2 mt1"),u(X,"class","basis60pc flex grow column ptb1 mt0 "),u(q,"class","flex row wrap")},m(t,e){g(V,t,e),m(t,H,e),m(t,q,e),d(q,C),g(F,C,null),d(C,Q),d(C,R),g(S,R,null),d(C,G),g(J,C,null),d(C,K),d(C,N);for(let s=0;s<at.length;s+=1)at[s].m(N,null);d(q,O),d(q,P),d(q,W),d(q,X),d(X,Y),Y.innerHTML=lt,d(X,Z),d(X,tt),g(et,tt,null),st=!0},p(t,[e]){var s,l,r,a,n,o,i,c,f,m;const d={};1&e&&(d.title=null==(s=t[0])?void 0:s.title),1&e&&(d.description=null==(l=t[0])?void 0:l.meta),1&e&&(d.image=null==(a=null==(r=t[0])?void 0:r.cover)?void 0:a[0]),V.$set(d);const p={};2049&e&&(p.$$scope={dirty:e,ctx:t}),F.$set(p);const v={};1&e&&(v.file=null==(o=null==(n=t[0])?void 0:n.picture)?void 0:o[0]),S.$set(v),(!st||1&e&&B!==(B="border profile-"+(null==(i=t[0])?void 0:i.type)+" profile-"+(null==(c=t[0])?void 0:c["picture-style"])))&&u(R,"class",B);const $={};if(4&e&&($.href=t[2]),2049&e&&($.$$scope={dirty:e,ctx:t}),J.$set($),1&e){let s;for(rt=(null==(f=t[0])?void 0:f.links)||[],s=0;s<rt.length;s+=1){const l=z(t,rt,s);at[s]?at[s].p(l,e):(at[s]=_(l),at[s].c(),at[s].m(N,null))}for(;s<at.length;s+=1)at[s].d(1);at.length=rt.length}(!st||1&e)&&lt!==(lt=((null==(m=t[0])?void 0:m.biography)||"")+"")&&(Y.innerHTML=lt);const h={};2&e&&(h.events=t[1]),et.$set(h)},i(t){st||(b(V.$$.fragment,t),b(F.$$.fragment,t),b(S.$$.fragment,t),b(J.$$.fragment,t),b(et.$$.fragment,t),st=!0)},o(t){y(V.$$.fragment,t),y(F.$$.fragment,t),y(S.$$.fragment,t),y(J.$$.fragment,t),y(et.$$.fragment,t),st=!1},d(t){w(V,t),t&&f(H),t&&f(q),w(F),w(S),w(J),j(at,t),w(et)}}}const C=async({fetch:t,page:e})=>({props:{profiles:await(await t("/profiles.json")).json(),events:(await(await t("/events.json")).json()).sort(((t,e)=>e.start-t.start))}});function F(t,e,s){let l,r,a,n,o,i;k(t,I,(t=>s(6,i=t)));let{profiles:c}=e,{events:f}=e;return E((async t=>{"events"==n&&H(`/activities/${a}`)})),t.$$set=t=>{"profiles"in t&&s(3,c=t.profiles),"events"in t&&s(4,f=t.events)},t.$$.update=()=>{64&t.$$.dirty&&s(5,a=i.params.id),40&t.$$.dirty&&s(0,l=c.find((t=>t.id==a))),17&t.$$.dirty&&s(1,r=(f||[]).filter((t=>{if(!l)return;let e=!1;return(t.associated||[]).forEach((t=>{console.log(t),e=t.id==l.id||e})),e}))),64&t.$$.dirty&&(n=i.params.type),1&t.$$.dirty&&s(2,o="member"==(null==l?void 0:l.type)?`/members?q=${null==l?void 0:l.type}`:"/friends")},[l,r,o,c,f,a,i]}export default class extends t{constructor(t){super(),e(this,t,F,q,s,{profiles:3,events:4})}}export{C as load};
