import{S as e,i as t,s,e as l,t as r,k as n,c as a,a as o,g as i,n as c,d as f,b as u,f as d,F as m,h as p,j as v,m as $,E as h,o as g,v as y,r as b,w,Q as j,T as k,z as E}from"../../chunks/vendor-811c4217.js";import{E as x}from"../../chunks/Events-308f2c4e.js";import{p as T}from"../../chunks/stores-abe6a4b1.js";import{T as I}from"../../chunks/Title-03f628f3.js";import{H as D}from"../../chunks/Head-fdf0f33f.js";import{u as V}from"../../chunks/utils-39f3f74c.js";import{g as H}from"../../chunks/navigation-20968cc5.js";import{E as L}from"../../chunks/EzeMedia-585cc3dd.js";import{T as M}from"../../chunks/Tag-1674f1db.js";import"../../chunks/Timestamp-d4e90dce.js";import"../../chunks/singletons-bb9012b7.js";import"../../chunks/_stores-76a31f1a.js";function z(e,t,s){const l=e.slice();return l[8]=t[s],l}function A(e){var t;let s,l=(null==(t=e[0])?void 0:t.name)+"";return{c(){s=r(l)},l(e){s=i(e,l)},m(e,t){d(e,s,t)},p(e,t){var r;1&t&&l!==(l=(null==(r=e[0])?void 0:r.name)+"")&&p(s,l)},d(e){e&&f(s)}}}function U(e){var t;let s,l=(null==(t=e[0])?void 0:t.type)+"";return{c(){s=r(l)},l(e){s=i(e,l)},m(e,t){d(e,s,t)},p(e,t){var r;1&t&&l!==(l=(null==(r=e[0])?void 0:r.type)+"")&&p(s,l)},d(e){e&&f(s)}}}function _(e){var t,s;let v,$,h,g,y=(null==(s=null==(t=e[8])?void 0:t.item)?void 0:s.title)+"";return{c(){v=l("a"),$=r(y),h=n(),this.h()},l(e){v=a(e,"A",{class:!0,target:!0,href:!0});var t=o(v);$=i(t,y),h=c(t),t.forEach(f),this.h()},h(){var t,s;u(v,"class","button wrap flex maxw100pc row-center-center whitespace-normal"),u(v,"target","_blank"),u(v,"href",g=V.safeUrl(null==(s=null==(t=e[8])?void 0:t.item)?void 0:s.url))},m(e,t){d(e,v,t),m(v,$),m(v,h)},p(e,t){var s,l,r,n;1&t&&y!==(y=(null==(l=null==(s=e[8])?void 0:s.item)?void 0:l.title)+"")&&p($,y),1&t&&g!==(g=V.safeUrl(null==(n=null==(r=e[8])?void 0:r.item)?void 0:n.url))&&u(v,"href",g)},d(e){e&&f(v)}}}function q(e){var t,s,r,i,p,k,E,T;let V,H,q,C,F,Q,R,S,B,G,J,K,N,O,P,W,X,Y,Z,ee,te,se,le=((null==(t=e[0])?void 0:t.biography)||"")+"";V=new D({props:{title:null==(s=e[0])?void 0:s.title,description:null==(r=e[0])?void 0:r.meta,image:null==(p=null==(i=e[0])?void 0:i.cover)?void 0:p[0]}}),F=new I({props:{class:"",$$slots:{default:[A]},$$scope:{ctx:e}}}),S=new L({props:{file:null==(E=null==(k=e[0])?void 0:k.picture)?void 0:E[0],root:"/media/profiles"}}),J=new M({props:{href:e[2],$$slots:{default:[U]},$$scope:{ctx:e}}});let re=(null==(T=e[0])?void 0:T.links)||[],ne=[];for(let l=0;l<re.length;l+=1)ne[l]=_(z(e,re,l));return te=new x({props:{events:e[1],columns:!1}}),{c(){v(V.$$.fragment),H=n(),q=l("div"),C=l("div"),v(F.$$.fragment),Q=n(),R=l("div"),v(S.$$.fragment),G=n(),v(J.$$.fragment),K=n(),N=l("div");for(let e=0;e<ne.length;e+=1)ne[e].c();O=n(),P=l("div"),W=n(),X=l("article"),Y=l("div"),Z=n(),ee=l("div"),v(te.$$.fragment),this.h()},l(e){$(V.$$.fragment,e),H=c(e),q=a(e,"DIV",{class:!0});var t=o(q);C=a(t,"DIV",{class:!0});var s=o(C);$(F.$$.fragment,s),Q=c(s),R=a(s,"DIV",{class:!0});var l=o(R);$(S.$$.fragment,l),l.forEach(f),G=c(s),$(J.$$.fragment,s),K=c(s),N=a(s,"DIV",{class:!0});var r=o(N);for(let a=0;a<ne.length;a+=1)ne[a].l(r);r.forEach(f),s.forEach(f),O=c(t),P=a(t,"DIV",{class:!0}),o(P).forEach(f),W=c(t),X=a(t,"ARTICLE",{class:!0});var n=o(X);Y=a(n,"DIV",{style:!0,class:!0}),o(Y).forEach(f),Z=c(n),ee=a(n,"DIV",{});var i=o(ee);$(te.$$.fragment,i),i.forEach(f),n.forEach(f),t.forEach(f),this.h()},h(){var t,s;u(R,"class",B="border profile-"+(null==(t=e[0])?void 0:t.type)+" profile-"+(null==(s=e[0])?void 0:s["picture-style"])),u(N,"class","mt1 cmb1"),u(C,"class","basis10pc grow flex column-stretch-flex-start"),u(P,"class","w1em h1em"),h(Y,"column-count","2"),u(Y,"class","mb2 mt1"),u(X,"class","basis60pc flex grow column ptb1 mt0 "),u(q,"class","flex row wrap")},m(e,t){g(V,e,t),d(e,H,t),d(e,q,t),m(q,C),g(F,C,null),m(C,Q),m(C,R),g(S,R,null),m(C,G),g(J,C,null),m(C,K),m(C,N);for(let s=0;s<ne.length;s+=1)ne[s].m(N,null);m(q,O),m(q,P),m(q,W),m(q,X),m(X,Y),Y.innerHTML=le,m(X,Z),m(X,ee),g(te,ee,null),se=!0},p(e,[t]){var s,l,r,n,a,o,i,c,f,d;const m={};1&t&&(m.title=null==(s=e[0])?void 0:s.title),1&t&&(m.description=null==(l=e[0])?void 0:l.meta),1&t&&(m.image=null==(n=null==(r=e[0])?void 0:r.cover)?void 0:n[0]),V.$set(m);const p={};2049&t&&(p.$$scope={dirty:t,ctx:e}),F.$set(p);const v={};1&t&&(v.file=null==(o=null==(a=e[0])?void 0:a.picture)?void 0:o[0]),S.$set(v),(!se||1&t&&B!==(B="border profile-"+(null==(i=e[0])?void 0:i.type)+" profile-"+(null==(c=e[0])?void 0:c["picture-style"])))&&u(R,"class",B);const $={};if(4&t&&($.href=e[2]),2049&t&&($.$$scope={dirty:t,ctx:e}),J.$set($),1&t){let s;for(re=(null==(f=e[0])?void 0:f.links)||[],s=0;s<re.length;s+=1){const l=z(e,re,s);ne[s]?ne[s].p(l,t):(ne[s]=_(l),ne[s].c(),ne[s].m(N,null))}for(;s<ne.length;s+=1)ne[s].d(1);ne.length=re.length}(!se||1&t)&&le!==(le=((null==(d=e[0])?void 0:d.biography)||"")+"")&&(Y.innerHTML=le);const h={};2&t&&(h.events=e[1]),te.$set(h)},i(e){se||(y(V.$$.fragment,e),y(F.$$.fragment,e),y(S.$$.fragment,e),y(J.$$.fragment,e),y(te.$$.fragment,e),se=!0)},o(e){b(V.$$.fragment,e),b(F.$$.fragment,e),b(S.$$.fragment,e),b(J.$$.fragment,e),b(te.$$.fragment,e),se=!1},d(e){w(V,e),e&&f(H),e&&f(q),w(F),w(S),w(J),j(ne,e),w(te)}}}const C=async({fetch:e,page:t})=>({props:{profiles:await(await e("/profiles.json")).json(),events:(await(await e("/events.json")).json()).sort(((e,t)=>t.start-e.start))}});function F(e,t,s){let l,r,n,a,o,i;k(e,T,(e=>s(6,i=e)));let{profiles:c}=t,{events:f}=t;return E((async e=>{"events"==a&&H(`/activities/${n}`)})),e.$$set=e=>{"profiles"in e&&s(3,c=e.profiles),"events"in e&&s(4,f=e.events)},e.$$.update=()=>{64&e.$$.dirty&&s(5,n=i.params.id),40&e.$$.dirty&&s(0,l=c.find((e=>e.id==n))),17&e.$$.dirty&&s(1,r=(f||[]).filter((e=>{if(!l)return;let t=!1;return(e.associated||[]).forEach((e=>{console.log(e),t=e.id==l.id||t})),t}))),64&e.$$.dirty&&(a=i.params.type),1&e.$$.dirty&&s(2,o="member"==(null==l?void 0:l.type)?`/members?q=${null==l?void 0:l.type}`:"/friends")},[l,r,o,c,f,n,i]}export default class extends e{constructor(e){super(),t(this,e,F,q,s,{profiles:3,events:4})}}export{C as load};
